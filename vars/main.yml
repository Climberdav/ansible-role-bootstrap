---
# vars file for bootstrap

# A string for each distribution and version of packages to install.
# Because this is a bootstrap role, there are no facts. The file
# `tasks/register.yml` discovers what distribution and version ansible
# is running against.
_bootstrap_packages:
  Alpine: python python3 sudo
  Archlinux: python3 sudo
  CentOS Linux-7: python3 sudo
  CentOS-7: python3 sudo
  CentOS: python3 sudo
  CentOS Linux: python3 sudo
  Debian: python3 sudo gnupg python3-apt
  Fedora: python3 sudo
  Gentoo: python sudo gentoolkit
  Kali: python3 sudo gnupg
  Kali GNU/Linux: python3 sudo gnupg
  openSUSE: python python-xml sudo
  openSUSE Leap: python python-xml sudo
  openSUSE Tumbleweed: python python-xml sudo
  RedHat: python3 sudo
  RedHat-7: python sudo
  Red Hat Enterprise Linux Server-7: python sudo
  Red Hat Enterprise Linux Server: python3 sudo
  Red Hat Enterprise Linux-7: python sudo
  Red Hat Enterprise Linux: python3 sudo
  Ubuntu: python3 sudo gnupg

_bootstrap_python_interpreter:
  Alpine:
  Archlinux:
  CentOS Linux: alternatives --set python /usr/bin/python3
  Debian: update-alternatives --install /usr/bin/python python /usr/bin/python3 10
  Fedora:
  Gentoo:
  Kali: update-alternatives --install /usr/bin/python python /usr/bin/python3 10
  openSUSE Leap:
  OpenSUSE Tumbleweed:
  Red Hat Enterprise Linux: alternatives --set python /usr/bin/python3
  Ubuntu: update-alternatives --install /usr/bin/python python /usr/bin/python3 10

# Map the right set of package based on values found in `tasks/register.yml`.
bootstrap_packages: "{{ _bootstrap_packages[bootstrap_distribution ~ '-' ~ bootstrap_distribution_major_version] | default(_bootstrap_packages[bootstrap_distribution] ) }}"

# Map the right set of python interpreter based on values found in `tasks/register.yml`.
bootstrap_python_interpreter: "{{ _bootstrap_packages[bootstrap_distribution] }}"

# Map the right set of packages, based on gathered facts.
bootstrap_facts_packages: "{{ _bootstrap_packages[ansible_distribution ~ '-' ~ ansible_distribution_major_version] | default(_bootstrap_packages[ansible_distribution]) }}"
